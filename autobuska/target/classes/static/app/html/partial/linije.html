<div ng-controller="linijeCtrl">

	<div ng-show="rezimDodavanja">
		<button ng-click="rezimDodavanja = !rezimDodavanja" class="btn btn-primary pull-right">Pretraga</button>
		<br />
		<form>
			<div class="form-group">
				<label for="brojMesta">Broj Mesta</label> <input
					ng-model="novaLinija.brojMesta" type="text" class="form-control"
					id="brojMesta">
			</div>
			<div class="form-group">
				<label for="cena">Cena Karte</label> <input
					ng-model="novaLinija.cena" type="text" class="form-control"
					id="cena">
			</div>
			<div class="form-group">
				<label for="destinacija">Destinacija</label> <input
					ng-model="novaLinija.destinacija" type="text" class="form-control"
					id="destinacija">
			</div>

			<div class="form-group">
				<label for="vremePolaska">Vreme polaska</label> <input
					ng-model="novaLinija.vremePolaska" type="text" class="form-control"
					id="vremePolaska">
			</div>
		
			<div class="form-group">
				<label for="prevoznik">Prevoznik</label> <select
					ng-model="novaLinija.prevoznikId" class="form-control" id="prevoznik">
					<option ng-repeat="i in prevoznici" value="{{i.id}}">{{i.naziv}}</option>
				</select>
			</div>
			<button ng-click="dodajPrevoznika()" type="button" >Dodaj prevoznika</button>
			<br /> <br /> 
			<button ng-click="dodaj()" type="button" class="btn btn-primary">Dodaj liniju</button>
		</form>
	</div>

	<div ng-show="!rezimDodavanja">
		<button ng-click="rezimDodavanja = !rezimDodavanja" class="btn btn-primary pull-right">Dodavanje</button>
		<br />
		<form>
			<div class="form-group">
				<label for="destinacija">Destinacija</label> <input
					ng-model="trazenaLinija.destinacija" type="text" class="form-control"
					id="destinacija">
			</div>
				<div class="form-group">
				<label for="prevoznik">Prevoznik</label> <select
					ng-model="trazenaLinija.prevoznikId" class="form-control" id="prevoznik">
					<option ng-repeat="i in prevoznici" value="{{i.id}}">{{i.naziv}}</option>
				</select>
			</div>
			<div class="form-group">
				<label for="maxCena">Maksimalna cena</label> <input
					ng-model="trazenaLinija.maxCena" type="text" class="form-control"
					id="maxCena">
			</div>


			<button ng-click="trazi()" type="button" class="btn btn-primary">Trazi</button>
		</form>
	</div>

	<br /> <br /> <br />
	<div class="btn-group pull-right">
		<button class="btn btn-primary" ng-click="nazad()" ng-disabled="pageNum == 0">Prethodna</button>
		<button class="btn btn-primary" ng-click="napred()" ng-disabled="pageNum == totalPages - 1">Sledeća</button>
	</div>
	<table class="table table-striped table-bordered">
		<thead>
			<tr>
				<th>Naziv prevoznika</th>
				<th>Destinacija</th>
				<th>Broj mesta</th>
				<th>Vreme polaska</th>
				<th>Cena karte</th>
			</tr>
		</thead>
		<tbody>
			<tr ng-repeat="k in linije">
				<td>{{k.prevoznikNaziv}}</td>
				<td>{{k.destinacija}}</td>
				<td>{{k.brojMesta}}</td>
				<td>{{k.vremePolaska}}</td>
				<td>{{k.cena}} din</td>
				<td>
			
			<input ng-model="kupovina.kolicinaKarti" type="text" id="k.id"  >
					<button ng-disabled="k.brojMesta <= 0"  ng-click="kupovina(k.id)" 	class="btn btn-primary">Kupi</button>
					<button ng-click="editLinija(k.id)" class="btn btn-warning">Izmeni</button>
					<button ng-click="obrisi(k.id)" class="btn btn-danger">Obriši</button>
					
				</td>
			</tr>
		</tbody>
	</table>
	<hr>
</div>